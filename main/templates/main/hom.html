{% extends "base.html" %}
{% load static %}


{% block title %}Hackspace Foundation{% endblock %}

{% block content %}

<a href="{{ url }}" class="btn-sm btn-primary pull-right" style="margin-top:5px; margin-right:5px;">View on Github</a>

<ol class="breadcrumb" style="width:100%">
    <li><a href="/hom/">HOM</a></li>
    {% for breadcrumb in breadcrumbs %}
        <li><a href="/hom{{ breadcrumb.url }}">{{ breadcrumb.slug }}</a></li>
    {% endfor %}
</ol>

<div class="row">
    <div class="col-md-offset-10 col-md-2">
        <div id="toc"></div>
    </div>
</div>

<div class="row">
    <div class="col-md-10">
        <div id="markdown">
            {{ md |safe}}
        </div>
    </div>
</div>

{% endblock %}

{% block js %}
    {{ block.super }}
    <script src="{% static "js/toc.min.js" %}"></script>

    <script>
    $('#toc').toc({
        'selectors': 'h1,h2,h3', //elements to use as headings
        'container': '#markdown', //element to find all selectors in
        'smoothScrolling': true, //enable or disable smooth scrolling on click
        'prefix': 'toc', //prefix for anchor tags and class names
        'onHighlight': function(el) {}, //called when a new section is highlighted
        'highlightOnScroll': true, //add class to heading that is currently in focus
        'highlightOffset': 10, //offset to trigger the next headline
        'anchorName': function(i, heading, prefix) { //custom function for anchor name
            return prefix+i;
        },
        'headerText': function(i, heading, $heading) { //custom function building the header-item text
            return $heading.text();
        },
        'itemClass': function(i, heading, $heading, prefix) { // custom function for item class
        return $heading[0].tagName.toLowerCase();
        }
    });
    </script>

{% endblock %}
